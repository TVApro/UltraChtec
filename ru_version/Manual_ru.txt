					Инструкция к программе UltraЧтец v2.0 
						от 3 февраля 2023 года

Это простой портативный текстовый редактор для быстрого анализа геномных последовательностей форматов fasta и GenBank. 
Программа полностью написана на языке Python 3.10, запускается из любой операционной системы с установленным Python3. 
Состоит из основного файла («UltraChtecv2.py») размером 679 строк и двух модулей: 
	«fastaUCHv2» - небольшой модуль для анализа последовательностей fasta. Размер модуля по умолчанию 168 строк.
	«genbankUCHv2» - модуль для анализа файлов GenBank. Размер модуля 157 строк. Требует для работы предыдущий модуль. 

							ЗАПУСК
	Для работы без установки Python3 имеется бета-версия для Windows в формате .exe, пока только на русском языке и 
с ограниченным набором функций. Вместе с программой в папке «samples» имеются две тестовые геномные последовательности 
как пример входящих файлов.Для запуска может понадобится установка дополнительных модулей re и tkinter. Установить модули 
можно через консоль командой: 

	pip3 install <имя_модуля>
 
Запустить программу можно, как и любой другой код на Python, с помощью программы-интерпретатора или из консоли:

	python3 UltraChtecv2.py (из папки, где расположен файл)

	или

	python3 С:\\Загрузки\UltraChtecv2.py (Windows)

	python3 ~/Загрузки/UltraChtecv2.py (Linux)


							ФУНКЦИИ

1) Просмотр и редактирование содержимого геномных файлов. Для открытия файла нужно выбрать в Меню пункт «Открыть...» 
и выбрать его в открывшемся окне, либо ввести его адрес в системе вручную в поле «Путь поиска файлов». Содержимое файла 
не отобразится в текстовом поле, пока не выбрана опция «Правка - Просмотр содержимого». Чтобы сохранить изменения в файле, 
выберите «Файл — Сохранить» или «Файл — Сохранить как». Чтобы исключить случайное сохранение изменённого текста под 
прежним названием, выберите «Режимы — Запретить перезапись файла». Управление действиями в текстовом поле осуществляется 
с помощью меню: «Правка — Отменить действие» и «Правки — Вернуть действие». «Правка — Изменить шрифт» меняет шрифт рабочей 
области на любой из моноширинных, имеющихся в системе.

Если выбрана опция «Правка — Скопировать текст», весь текст в поле копируется в буфер обмена (выделять его для полного 
копирования не нужно). Уменьшить и увеличить текст можно с  помощью соответствующих опций «Правка — Увеличить текст» и 
«Правка — Уменьшить текст». Весь текст можно убрать с помощью «Правка — Очистить поле».

При любых манипуляциях в программе, кроме сохранения, оригинальный файл с геномом не подвергается изменениям. По умолчанию 
программа каждый раз открывает файл, определяет его формат, ищет совпадения в заголовках.

Программа сама определяет формат файла, не ориентируясь на указанное в имени файла расширение. Это не мешает исследователю 
просматривать и редактировать сторонние файлы, но блокирует возможности анализа.

2) Вычисление основных параметров геномов:

    • длина (общая, максимальная для контигов, скаффолдов)
    • количество скаффолдов и контигов
    • G+C состав (%)
    • N50, N90
    • L50, N90
    • количество и типы аннотаций (если геном аннотирован)
    • коэффициент кодирования (если геном аннотирован)

Для осуществления всех перечисленных действий нужно выбрать «Возможности — Анализ генома». Результат будет виден в текстовом 
поле, и включать в себя (в порядке перечисления) путь к файлу,  тип файла, имя генома, время анализа, анализ входящих в геном 
контигов и/или скаффолдов, общий анализ сборки.

3) Получение целых файлов с аминокислотными и нуклеотидными последовательностями из геномов. Если при поиске по аннотациям 
(«Возможности — Поиск по аннотациям») не заполнить поисковое поле, то при запуске программа выпишет все гены аннотированного 
генома в одной из требуемых форм.

4) Поиск целевых генов:
    • простой поиск в файле. Для откройте в текстовом окне выбранный геном или отчёт («Правка — Просмотр содержимого») или 
вставьте его туда после копирования, выберите «Возможности — Простой поиск», введите слово/часть слова в текстовое поле и 
нажмите «Поиск». 

    • поиск по аннотациям — эта функция позволяет по ключевому слову найти название гена в аннотациях, и вывести его аминокислотную 
или нуклеотидную последовательности (Возможности — поиск по аннотациям). Поиск осуществляется как по целому слову, так и по его части. 
Ищет необходимое выражение в заголовках аннотаций (или заголовках fasta файла) и выдаёт (в зависимости от формата и выбранной цели):

	- нуклеотидную последовательность:
		-- параметр "получить fna" - если формат .gb, .gbk или .gbff
		-- параметр "искать по заголовкам fasta" -  если файл fasta
	- аминокислотную последовательность:
		-- параметр "получить faa" - если формат .gb, .gbk или .gbff
	- отчёт:
		-- включает основные элементы файлов genbank: имя последовательности, контиг (скаффолд), индивидуальный номер гена, 
нуклеотидная последовательность, аминокислотная трансляция.

    • программа не может напрямую искать гены по их последовательностям, однако при запуске «Возможности - Поиск по аннотациям» с 
опцией «получить отчёт» и при пустом поисковом поле программа выдаст все гены в форме отчётов с последовательностями без пробелов 
и знаков разрыва строки. Выбрав в дальнейшем «Простой поиск», можно попытаться найти последовательность, повторяющую выбранную.

    • поиск в именах — опция актуальна для файлов fasta (.fna, .faa и т.д.). Для файлов остальных типов попытка запустить этот поиск 
завершится ошибкой. Однако, если сразу после другого поиска, результатом которого стал набор последовательностей в формате fasta, 
выбрать «Поиск по аннотациям — исследовать текст в диалоговом окне» одновременно с «Поиск по аннотациям - искать по заголовкам fasta», 
то поиск будет выполнен, что позволит отбросить часть непригодных результатов.

5) Составление отчётов — при включении «режима свитка» новые записи программа будет совершать, не стирая старые. Эта функция доступна 
в меню в основном поле («Режимы — Режим свитка») и в поле поиска по аннотациям («Поиск по аннотациям - Режим свитка при поиске»).

6) Именование неизвестных генов. Если у генов отсутствует название (характерно для некоторых аннотирующих сервисов), оно присваивается 
программой автоматически. Новые имена формируются по принципу «Unknown_{номер неизвестного гена}». Это удобно при формировании файлов 
fasta для последующего анализа в других программах.


По всем вопросам писать на почту: 
lichoradkin43@gmail.com
Трубицын Владимир,
лаборатория анаэробных микроорганизмов ИБФМ РАН

Всем удачи!



















